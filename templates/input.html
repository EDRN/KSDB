<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Minimal Django File Upload Example</title>
	{% load staticfiles %}
        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/u/bs-3.3.6/jq-2.2.3,jszip-2.5.0,pdfmake-0.1.18,dt-1.10.12,af-2.1.2,b-1.2.1,b-colvis-1.2.1,b-html5-1.2.1,b-print-1.2.1,cr-1.3.2,fc-3.2.2,fh-3.1.2,r-2.1.0,rr-1.1.2,sc-1.4.2,se-1.2.0/datatables.min.css"/>
    <script type="text/javascript" src="https://cdn.datatables.net/u/bs-3.3.6/jq-2.2.3,jszip-2.5.0,pdfmake-0.1.18,dt-1.10.12,af-2.1.2,b-1.2.1,b-colvis-1.2.1,b-html5-1.2.1,b-print-1.2.1,cr-1.3.2,fc-3.2.2,fh-3.1.2,r-2.1.0,rr-1.1.2,sc-1.4.2,se-1.2.0/datatables.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/3.51/jquery.form.js"></script>
        
        <script>
            $(document).ready( function () {
            $('#protocol_table').dataTable();
        } );
        </script>
    </head>

<body>
    <div class="container">
        <div class="col-md-12 text-center">
            <H2>Welcome to GSIS!</H2>
            <p>
                General Study Information System: The goal of this system is to maintain generalized project information to be used for any bioinformatics knowledge system that the JPL Informatics Center supports. For example, EDRN or MCL. 
            </p>
            <br>
        </div>
        <div class="col-md-12">
            <form id="protocolinput" action="/esis/input/" method="post" enctype="multipart/form-data">
                {% csrf_token %}
                <fieldset class="form-group">
                <label for="protocolid">ID</label>
                <input type="text" class="form-control" name="protocolid" placeholder="Enter ID">
                </fieldset>
                <fieldset class="form-group">
                <label for="protocolname">Name</label>
                <input type="text" class="form-control" name="protocolname" placeholder="Enter Name">
                </fieldset>
                <fieldset class="form-group">
                <label for="protocoldesc">Protocol Description</label>
                <textarea class="form-control" name="protocoldesc" rows="3"></textarea>
                <small class="text-muted">Describe your protocol.</small>
                </fieldset>
                </div>
            </form>
                <center>
                <button type="button" class="btn btn-success" id="submit-protocol" type="button" >Add</button>
                <button type="button" class="btn btn-danger" id="cancel-protocol" type="button" >Cancel</button>
                </center>
            </div>
        </div>
    </div>

	<script>
        var submitButton = document.querySelector("#submit-protocol")
        var protocolform = $('#protocolinput');
        //var removeButton = document.querySelector("#cancel-protocol")
            submitButton.addEventListener("click", function () {
                alert("OK");
                $.ajax({
                url : protocolform.attr('action'),
                type : 'POST',
                data : protocolform.serialize(),
                success : function (response) {
                    alert("The server says: " + response);
                },
                error : function(xhr, status, error) {
                    alert("Error: "+xhr.responseText);
                }
            });
        });
	</script>
</body>
</html>
